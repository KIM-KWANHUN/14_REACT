<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/prop-types@15.8.1/prop-types.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">

        /*
            우리가 백엔드와 통신 시에 몇 개가 될지 모르는 데이터를
            화면에 뿌려 줄 준비를 해줘야 한다.
            따라서 우리가 타임리프를 사용했을 때 th:each 기억하자.
        */
       /* 자바스크립트 수업 때 가장 중요한거. 배열 관려 함수!! */
       // 배열의 map 메소드 복습

       /* 
            arr.map(callback 함수(전달인자)) 를 전달 받을 수 있다.
            - callback 함수는 파라미터로 전달 된 배열 내 각 요소를
            - 원하는 규칙에 따라 변환 후 그 결과로 새로운 배열을 
            - 만들어 준다.
            - callback 함수는 내부적으로 3가지 인자가 존재한다. (1. currentValue, 2. index, 3. array) 파라미터를 갖는다.
                currentValue : 현재 처리중인 요소
                index : 현재 처리하고 있는 요소의 index 번호
                array : 현재 처리하고 있는 원본 배열
       */

    //    const number = [1, 2, 3, 4, 5];
    //    // 새로운 배열 생성 [1, 4, 9, 16, 25] 생성할 예정

    //    const newNumber = number.map(num => num * num);
    //    console.log('new', newNumber)

        // const fruit = ['사과', '바나나', '수박'];
        // fruit.map((value, index, array) => {
        //     console.log('value', value);
        //     console.log('index', index);
        //     console.log('array', array);
        //    ex) 사과 1번째 값, 2번째 0번째 index, 3번째 [사과,바나나,수박]
        // })
       
        // props => const {names} = props.names -> 구조분해 할당
        function Items({names}) {

            console.log('names', names);
            
            // 1. 정상적으로 반복된 li 태그가 출력됬지만 주의가 뜨고 있다. key 가 없기 때문
            // return (
            //     <ul>
            //         {names.map(name => <li>{name}</li>)}    
            //     </ul>
            // )

            // 2. 
            return (
                <ul>
                    {names.map((name, index) => <li key={index}>{name}</li>)}    
                </ul>
            )
        }

        /*
            key 란?
            리액트에서 key 는 컴포넌트에서 배열을 랜더링 할 때, 
            어떤 요소에 변동이 있는지 알아내기 위해 사용하는 식별자 역활을 한다.
            key 가 존재하지 않을때는 가상DOM 이 실제 DOM과 비교하는 알고리즘(diff)
            과정에서 배열을 순차적으로 다 비교해가며 변화를 감지한다.
            하지만 key 가 존재한다면, 식별자를 통해 변화감지를 더욱 빠르게 할 수 있다.
            일반적으로 key 속성은 화면에 노출되지 않기 때문에 pk값으로 설정하면 된다.
            index 는 게시글 번호 등으로 사용하면 된다.
        */

        const names = ['나루토','사스케','사쿠라','카카시'];



        ReactDOM.createRoot(document.getElementById('root')).render(<Items names={names}/>);
    </script>
</body>
</html>